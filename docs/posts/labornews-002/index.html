<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="박영삼">
<meta name="dcterms.date" content="2023-04-07">

<title>한국 노조 신뢰도 ‘국제비교 중간 수준’ – Labor &amp; Statistics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Labor &amp; Statistics</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/index.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://facebook.com"> <i class="bi bi-facebook" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://yspark1968.blogspot.com/"> 
<span class="menu-text">Blogger</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">한국 노조 신뢰도 ‘국제비교 중간 수준’</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">news</div>
                <div class="quarto-category">column</div>
                <div class="quarto-category">노동</div>
                <div class="quarto-category">노동조합</div>
                <div class="quarto-category">노조신뢰도</div>
                <div class="quarto-category">세계가치관조사</div>
                <div class="quarto-category">WVS</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>박영삼 </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 7, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#한국-노조-신뢰도-국제비교-중간-수준" id="toc-한국-노조-신뢰도-국제비교-중간-수준" class="nav-link active" data-scroll-target="#한국-노조-신뢰도-국제비교-중간-수준">한국 노조 신뢰도 ‘국제비교 중간 수준’</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="박영삼의-통계로-보는-노동" class="level4">
<h4 class="anchored" data-anchor-id="박영삼의-통계로-보는-노동">박영삼의 통계로 보는 노동</h4>
</section>
<section id="한국-노조-신뢰도-국제비교-중간-수준" class="level2">
<h2 class="anchored" data-anchor-id="한국-노조-신뢰도-국제비교-중간-수준">한국 노조 신뢰도 ‘국제비교 중간 수준’</h2>
<section id="세계가치관조사wvs-20172022-원자료-분석-oecd-12개국-중-6위-조사대상-62개국-중-27위" class="level4">
<h4 class="anchored" data-anchor-id="세계가치관조사wvs-20172022-원자료-분석-oecd-12개국-중-6위-조사대상-62개국-중-27위">세계가치관조사(WVS) 2017~2022 원자료 분석 … OECD 12개국 중 6위, 조사대상 62개국 중 27위</h4>
<p>임금과 취업상태, 소득과 자산에 대한 통계가 있듯이 사회구성원들의 인식과 가치관에 대한 사회조사도 국가의 공식통계로 발표되고 국가 간에 비교된다. 그중에는 노동조합과 노사관계에 관한 국민인식조사도 포함된다.<br>
</p>
<p>최근 많이 회자된 통계 중에 ’46%’라는 숫자가 있었다. 한국리서치가 지난해 10월 발표한 노조에 관한 여론조사 결과였다. 노조가 노동자 권리 보호에 기여한다고 긍정적으로 생각하는 국민이 66%에 달했다. 하지만 “노조에 소속된 자신들의 이익만 챙기고 있다”고 생각하는 국민이 46%로 적지 않았다. 이와 함께 한국노동연구원의 2017년 조사결과도 다시 관심을 불러일으켰다. 당시 국민의 86%가 노조가 필요하다고 생각하면서도 현재 노조가 전체 노동자의 이익을 위해 일하고 있다고 생각하는 국민은 22%에 그쳤다. “노조간부와 일부 노동자의 이익을 위해 일하고 있다”고 응답한 비율이 공교롭게도 한국리서치 조사와 동일한 ’46%’로 나타났다. 노동계로서는 매우 따갑고 무거운 숫자로 다가왔을 통계였다.<br>
</p>
<p><img src="news_01.jpg" class="img-fluid quarto-figure quarto-figure-center" width="600" alt="Caption"><br>
</p>
<p>노동연구원에 앞서 이 조사항목을 포함시켰던 것은 2013년의 한국종합사회조사(KGSS)였다. 종합사회조사는 “주기적이고 반복적인 방식으로 확률표집의 이상적 기준을 최대한 충족시키면서 국제비교연구를 가능케 한다”는 원칙하에 시작된 사회조사다. 국제사회조사인 ISSP의 한국조사 성격으로 진행되고 있었다. 이때 조사에서는 68%의 응답자가 노조가 필요하다고 답했다. 반면에 “조합간부나 일부 근로자의 이익을 위해 활동한다”고 노조를 부정적으로 평가한 비율은 56%에 달했다.<br>
</p>
<p>단순비교로만 보면 2013년 종합사회조사 결과와 한국노동연구원의 2017년, 한국리서치의 2022년의 결과는 노조의 필요성에 대한 긍정비율이 더 높아졌고(68%→86%), 노조가 일부만을 위해 일하고 있다는 부정응답 비율은 줄어든 것(56%→46%)으로 볼 수도 있다. 하지만 조사문항의 차이와 조사방법의 차이를 감안한다면 제대로 된 비교라고 할 수는 없다. 종합사회조사는 가구방문 면접조사에 가구원의 무작위추출 방식인 반면, 노동연구원 조사는 온라인조사이면서 임금노동자 일정비율 이상을 목표로 정해 할당한 방식이었다.<br>
</p>
<p><strong>미국 갤럽은 수십년간 노조 관련 조사</strong> <strong>우리나라는 드물어, 신뢰조사만 있어</strong></p>
<p>미국 갤럽(Gallup)은 지난해 9월 중요한 여론조사 결과를 발표해 화제를 모았다. 미국 국민들의 노조에 대한 여론지지율이 71%로 1965년 이후 역대 최고를 기록했다는 뉴스였다. 이때 갤럽은 1936년 대공황 이후 자신들이 실시해 온 역대 여론조사에서 확인된 노조 지지율과 함께 다른 여러 항목의 노조·노동운동 관련 여론조사 통계치들을 함께 발표했다. 거기에는 노조가입률, 노조에 대한 신뢰 정도, 노조가입 의향, 향후 노동운동의 힘과 영향력이 어떻게 변화될지에 대한 생각 등도 포함됐다. CNBC 뉴스는 이 여론조사 결과를 보도하면서 여론지지율은 역대 최고이지만, 정작 임금노동자 비조합원 중에서 58%가 “노조가입에 관심이 없다”고 응답한 조사결과를 함께 인용했다. “여론 지지는 상승하고 있으나 임금노동자의 노조가입 의향률은 상승하지 않는 것이 실질적 문제”라는 해설기사를 내보냈다.</p>
<p><img src="news_02.jpg" class="img-fluid quarto-figure quarto-figure-center" width="600" alt="Caption"><br>
</p>
<p><strong>OECD 최하위 소득분배 개선 효과 더 떨어질 수도</strong><br>
<strong>저소득 빈곤층 위한 정부 역할 중요</strong><br>
<br>
오히려 2021년 가계금융복지조사에서 나타나는 소득분배 악화 흐름은 조세와 공적이전을 담당하는 정부의 역할이 중요하다는 사실을 다시 한번 확인시켜 주고 있다.<br>
<br>
그렇다면 우리나라에는 동일항목에 대한 지속적이고 일관된 조사를 통해 노조에 대한 국민들의 생각과 여론을 확인할 수 있는 통계자료가 있을까? 사실 극히 드문 일이다. 앞서 말한 종합사회조사는 2014년 이후 2년마다 조사를 실시하는 것으로 변경됐고 최근에는 노동관련 조사항목이 거의 없는 편이다. 민간의 경우에도 미국의 갤럽과 같이 “(어떤 사람이) 노조를 지지하느냐 지지하지 않느냐?” “(어떤 사람이) 노조에 가입할 의향이 있느냐?”와 같은 직접적인 의향을 확인해 볼 수 있는 통계나 여론조사 자료는 없다. 대신 비슷한 통계가 매년 여기저기 다양한 기관에서 반복적으로 생산되는데, 그게 바로 ‘신뢰도(confidence)’ 조사다.<br>
</p>
<p><img src="news_03.jpg" class="img-fluid quarto-figure quarto-figure-center" width="600" alt="Caption"><br>
</p>
<p>정부의 공식통계 가운데 한국행정연구원에서 표본가구원 8천명을 상대로 실시하고 있는 사회통합실태조사에는 노조 신뢰도 측정 항목이 있다. “귀하는 다음 기관들이 맡은 일을 얼마나 잘 수행하고 있다고 믿습니까?”라는 질문에 4점 척도로 응답하도록 돼 있다. 노조만 대상으로 하는 것이 아니고 시민단체·교육계·언론·종교계는 물론 중앙정부·지자체·정당·의회 등 다양한 기관들을 얼마나 신뢰하는지를 묻는 조사다. 2013년부터 지속된 이 조사의 결과는 노조를 신뢰하지 않는다는 응답비율이 신뢰한다는 응답에 비해 여전히 높지만, 그 차이가 빠르게 줄어들고 있다. 노조의 경우 불신 비율이 60%대 초반에서 50%대 초반으로 크게 감소했고, 신뢰비율은 30%대 중·후반에서 40%대 후반으로 크게 증가한 것으로 나타났다.<br>
</p>
<p><strong>노조 신뢰도 대부분 선진국, 한국과 비슷</strong> <strong>신뢰도보다 노조 지지·노조 가입 조사 필요해</strong></p>
<p>한편 또 다른 대표적인 국제사회조사의 하나인 세계가치관조사(WVS)가 있다. 2017~2022년 원자료가 최근 공개됐는데 가구면접 조사한 62개국의 데이터가 수록돼 있으며 한국의 조사시점은 2018년이다. 이 조사에도 노조와 대기업·의회·법원에 대한 신뢰도 조사항목이 포함돼 있다.<br>
</p>
<p><img src="news_04.jpg" class="img-fluid quarto-figure quarto-figure-center" width="600" alt="Caption"><br>
</p>
<p>분석 결과 한국의 노조 신뢰도는 4점 척도에서 평균 2.6점이었다. 점수가 낮을수록 신뢰도가 높다. 한국은 불신에 가까운 수치를 나타냈지만 경제협력개발기구(OECD) 15개 회원국 중 독일·체코·일본·네덜란드에 이어 5번째로 높은 신뢰도 수치를 기록했다. 한편 조사에 참여한 62개국 전체에서는 27위를 기록해 중간에서 약간 상위를 기록한 것으로 나타난다.<br>
</p>
<p>노조 신뢰도 1~3위는 베트남·미얀마·중국 등 사회주의 국가들이며, 이들 나라는 기업과 권력기관 신뢰도 모두 가장 높다. 반면 노조 신뢰도 최하위는 멕시코·아르헨티나 등 남미 국가들이 주로 차지한다. 이들 나라의 기업 신뢰도와 권력기관에 대한 신뢰도 모두 바닥 수준이다. 주요 선진국들은 노조 신뢰도가 주로 중간순위에 분포하고 있다. 독일의 경우 OECD 회원국 내에서는 평균 2.52점으로 1위를 차지했지만 62개국 전체 순위에서는 19위로 중위그룹에 속한다. 독일과 네덜란드 등 유럽 국가들은 대기업에 대한 신뢰도 평가가 매우 낮은 것으로 나타났다. 네덜란드는 대기업 신뢰도 순위 11위에 그쳤고 독일은 14위로 최하위를 기록했다. 대기업에 비판적인 국민의 여론이 기업의 노력을 더 자극하고 촉진한다고도 볼 수 있겠다.<br>
</p>
<p>한국의 대기업 신뢰도는 2.6점으로 노조와 동일한 점수를 기록했으며 OECD 회원국 중 신뢰도 5위로 노조와 순위도 동률을 기록했다. 과거 신뢰도가 많이 낮았지만 최근에 많이 상승한 것으로 나타났다. 우리나라 법원의 경우 국내 기관끼리 비교할 때는 노조보다 크게 신뢰도가 높았다. 하지만 OECD 회원국의 법원 신뢰도가 훨씬 더 높기 때문에 국가비교 순위에서는 9위에 머물렀으며, 국회는 법원보다 더 낮은 10위를 기록해 하위권에 머물렀다. 기관의 특성에 비춰 볼 때 일정하게 요구되는 신뢰도 수준이 있는 것이라고 볼 수 있다.<br>
</p>
<p>전체 62개국의 노조와 대기업에 대한 신뢰도를 하나로 표현한 것이 아래 그림이다. 평균선을 기준으로 4분면을 나누게 되면, 선진국들은 중간지대에 주로 분포하는 것을 알 수 있다. 유럽 국가들은 노조 신뢰도는 높은 대신 대기업 신뢰도가 낮은 좌상단에 위치하게 되며, 미국과 호주 등은 노조와 대기업 모두 신뢰도가 낮은 우상단 유형에 속하게 된다. 한국은 일본·터키 등과 함께 노조와 대기업 모두 신뢰도가 평균보다 높은 유형으로 좌하단에 속하게 된다.<br>
</p>
<p>그렇다면 한국이 노조와 기업 모두 신뢰도가 높은 모범 국가라고 말할 수 있는 것일까. 그렇지는 않겠지만 한국의 노조가 신뢰도가 형편없이 낮은 것은 아니며, 대기업이나 법원과 권력기관에 비해 형편없는 평가를 받고 있는 것도 아니라는 점은 알 수 있다. 노조가 좋은 신뢰도 평가를 받는 것은 어느 나라든 쉽지 않은 일인 것 같다. 노조의 노력이 부족한 것도 있지만 시민들의 눈높이도 그만큼 높기 때문이다. 그리고 그러한 요구와 바람은 노동운동의 장애물이 아니라 디딤돌이 될 수 있다. 그리고 이제는 노동운동에 대한 올바른 측정지표를 위해서라도 신뢰도 측정과는 구별되는 알찬 내용의 정기적이고 반복적인 통계조사가 필요해 보인다.<br>
</p>
<p><img src="news_05.jpg" class="img-fluid quarto-figure quarto-figure-center" width="600"><br>
</p>
<p>박영삼 고려대 노동문제연구소 노동데이터센터장 (<a href="youngsampk@gmail.com">youngsampk@gmail.com</a>)<br>
출처 : <a href="http://www.labortoday.co.kr/news/articleView.html?idxno=214152">매일노동뉴스(http://www.labortoday.co.kr)</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>